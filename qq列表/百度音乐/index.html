<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			body,
			ul,
			li {
				margin: 0;
				padding: 0;
				list-style: none;
			}
		</style>
		<link rel="stylesheet" type="text/css" href="baidu.css" />
	</head>

	<body>
		<div class="wrap">
			<div class="baidu">
				<ul id="list">
					<li>
						<div><input type="checkbox" name=""></div>
						<span>泡沫</span>
						<span>邓紫棋</span>
					</li>
					<li>
						<div><input type="checkbox" name=""></div>
						<span>说爱你</span>
						<span>蔡依林</span>
					</li>
					<li>
						<div><input type="checkbox" name=""></div>
						<span>稻香</span>
						<span>周杰伦</span>
					</li>
					<li>
						<div><input type="checkbox" name=""></div>
						<span>我的梦</span>
						<span>张靓颖</span>
					</li>
					<li>
						<div><input type="checkbox" name=""></div>
						<span>怎么说我不爱你</span>
						<span>萧敬腾</span>
					</li>
					<li>
						<div><input type="checkbox" name=""></div>
						<span>无处安放</span>
						<span>白若溪</span>
					</li>
				</ul>
				<div class="select">
					<span class="selectAll">
						<input type="checkbox" name="" id="selectAllBtn">
						<span>全选</span>
					</span>
					<div class="others">
						<span><em></em>收藏</span>
						<span><em></em>添加</span>
						<span><em></em>删除</span>
					</div>
				</div>
			</div>
		</div>
		<script>
			var lis = document.querySelectorAll('#list li');
			var inputs = document.querySelectorAll('#list input');
			var prevIndex = 0;
			for(var i=0;i<lis.length;i++){
				if(i%2 == 0){
					lis[i].style.background = '#fff';
				}else{
					lis[i].style.background = 'pink';
				}
				
				lis[i].index = i;
				lis[i].onmouseover = function(){
					this.style.background = 'lightblue';
				}
				
				lis[i].onmouseout = function(){
					if(inputs[this.index].checked){
						this.style.background = 'lightblue';
					}else{
						if(this.index%2 == 0){
							this.style.background = '#fff';
						}else{
							this.style.background = 'pink';
						}
					}
				}
			}
			var selectAllBtn = document.querySelector('#selectAllBtn');
			selectAllBtn.onclick = function(){
				for(var i=0;i<inputs.length;i++){
					inputs[i].checked = this.checked;
					if(this.checked){
						lis[i].style.background = 'lightblue';
					}else{
						if(lis[i].index%2 == 0){
							lis[i].style.background = '#fff';
						}else{
							lis[i].style.background = 'pink';
						}
					}
				}
			}
			for(var i=0;i<inputs.length;i++){
				inputs[i].onclick = function(){
					if(this.checked){
//						var n = 0;
//						for(var j=0;j<inputs.length;j++){
//							if(inputs[j].checked){
//								n++;
//							}
//						}
//						if(n == inputs.length){
//							selectAllBtn.checked = true;
//						}
						var checkedAll = true;  // 假设全部选中
						for(var j=0;j<inputs.length;j++){
							if(!inputs[j].checked){
								checkedAll = false;
								break;
							}
							selectAllBtn.checked = checkedAll;
						}
					}else{
						selectAllBtn.checked = false;
					}
				}
			}
		</script>
	</body>

</html>